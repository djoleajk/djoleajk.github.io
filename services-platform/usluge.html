<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platforma za Usluge - Pretraga</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigacija -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <i class="fas fa-briefcase"></i>
                <span>Platforma za Usluge</span>
            </div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html">Naslovna</a></li>
                <li><a href="usluge.html" class="active">Usluge</a></li>
                <li><a href="#" id="navDashboard" style="display:none;">Moj Panel</a></li>
                <li><a href="admin.html" id="navAdmin" style="display:none;">Admin</a></li>
            </ul>
            <div class="nav-actions">
                <button class="btn btn-outline" id="btnLogin">Prijava</button>
                <button class="btn btn-primary" id="btnRegister">Registracija</button>
                <div class="user-menu" id="userMenu" style="display:none;">
                    <button class="btn btn-user" id="btnUser">
                        <i class="fas fa-user-circle"></i>
                        <span id="userName"></span>
                    </button>
                    <div class="user-dropdown" id="userDropdown">
                        <a href="#" id="dropdownProfile">Moj Profil</a>
                        <a href="#" id="dropdownMessages">Poruke <span class="badge" id="msgBadge">0</span></a>
                        <a href="#" id="dropdownBookings">Termini</a>
                        <a href="#" id="btnLogout">Odjava</a>
                    </div>
                </div>
            </div>
            <button class="nav-toggle" id="navToggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Page Header -->
    <div class="page-header">
        <div class="container">
            <h1>Pretraga Usluga</h1>
            <p>Pronađite savršenog pružaoca usluga za vaše potrebe</p>
        </div>
    </div>

    <!-- Pretraga i Filteri -->
    <div class="search-section">
        <div class="container">
            <div class="search-bar">
                <div class="search-input-wrapper">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Pretraži usluge...">
                </div>
                <button class="btn btn-filter" id="toggleFilters">
                    <i class="fas fa-filter"></i> Filteri
                </button>
            </div>
            
            <div class="filters-panel" id="filtersPanel">
                <div class="filters-grid">
                    <div class="filter-group">
                        <label>Kategorija</label>
                        <select id="filterCategory">
                            <option value="">Sve kategorije</option>
                            <option>Popravke</option>
                            <option>Dom i Bašta</option>
                            <option>Lepota i Wellness</option>
                            <option>IT i Tehnologija</option>
                            <option>Edukacija</option>
                            <option>Transport</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Lokacija</label>
                        <input type="text" id="filterLocation" placeholder="Unesite grad...">
                    </div>
                    <div class="filter-group">
                        <label>Cena (po satu)</label>
                        <div class="price-range">
                            <input type="number" id="filterPriceMin" placeholder="Min" min="0">
                            <span>-</span>
                            <input type="number" id="filterPriceMax" placeholder="Max" min="0">
                        </div>
                    </div>
                    <div class="filter-group">
                        <label>Ocena</label>
                        <select id="filterRating">
                            <option value="">Sve ocene</option>
                            <option value="4">4+ ⭐</option>
                            <option value="3">3+ ⭐</option>
                            <option value="2">2+ ⭐</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Sortiranje</label>
                        <select id="sortBy">
                            <option value="rating">Najbolje ocenjeni</option>
                            <option value="price-low">Cena: Niska - Visoka</option>
                            <option value="price-high">Cena: Visoka - Niska</option>
                            <option value="reviews">Broj recenzija</option>
                        </select>
                    </div>
                    <div class="filter-actions">
                        <button class="btn btn-outline" id="clearFilters">Očisti</button>
                        <button class="btn btn-primary" id="applyFilters">Primeni</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Rezultati Pretrage -->
    <div class="results-section">
        <div class="container">
            <div class="results-header">
                <h2>Pronađeno Pružalaca: <span id="resultsCount">0</span></h2>
            </div>
            
            <div class="services-grid" id="servicesGrid">
                <!-- Dinamički učitano JavaScript-om -->
            </div>

            <div class="no-results" id="noResults" style="display:none;">
                <i class="fas fa-search"></i>
                <h3>Nema rezultata</h3>
                <p>Pokušajte sa drugačijim filterima ili pretraživanjem</p>
            </div>
        </div>
    </div>

    <!-- Modal za Profil Pružaoca -->
    <div class="modal modal-large" id="providerModal">
        <div class="modal-content">
            <span class="modal-close" data-modal="providerModal">&times;</span>
            <div class="provider-detail" id="providerDetail">
                <!-- Dinamički učitano JavaScript-om -->
            </div>
        </div>
    </div>

    <!-- Modal za Zakazivanje -->
    <div class="modal" id="bookingModal">
        <div class="modal-content">
            <span class="modal-close" data-modal="bookingModal">&times;</span>
            <h2>Zakaži Termin</h2>
            <form id="bookingForm">
                <input type="hidden" id="bookingProviderId">
                <div class="form-group">
                    <label>Datum</label>
                    <input type="date" id="bookingDate" required>
                </div>
                <div class="form-group">
                    <label>Vreme</label>
                    <input type="time" id="bookingTime" required>
                </div>
                <div class="form-group">
                    <label>Opis posla</label>
                    <textarea id="bookingDescription" rows="4" required placeholder="Opišite detaljno šta vam je potrebno..."></textarea>
                </div>
                <div class="form-group">
                    <label>Kontakt Telefon</label>
                    <input type="tel" id="bookingPhone" required>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Pošalji Zahtev</button>
            </form>
        </div>
    </div>

    <!-- Modal za Poruke -->
    <div class="modal" id="messageModal">
        <div class="modal-content">
            <span class="modal-close" data-modal="messageModal">&times;</span>
            <h2>Pošalji Poruku</h2>
            <form id="messageForm">
                <input type="hidden" id="messageProviderId">
                <div class="form-group">
                    <label>Naslov</label>
                    <input type="text" id="messageSubject" required>
                </div>
                <div class="form-group">
                    <label>Poruka</label>
                    <textarea id="messageContent" rows="5" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Pošalji</button>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4>O Platformi</h4>
                    <ul>
                        <li><a href="#">O Nama</a></li>
                        <li><a href="#">Kako Funkcioniše</a></li>
                        <li><a href="#">Blog</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Za Klijente</h4>
                    <ul>
                        <li><a href="usluge.html">Pregledaj Usluge</a></li>
                        <li><a href="#">Najčešća Pitanja</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Kontakt</h4>
                    <ul>
                        <li><i class="fas fa-envelope"></i> info@platforma.rs</li>
                        <li><i class="fas fa-phone"></i> +381 11 123 4567</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Platforma za Usluge. Sva prava zadržana.</p>
            </div>
        </div>
    </footer>

    <!-- Modal za Prijavu -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <span class="modal-close" data-modal="loginModal">&times;</span>
            <h2>Prijava</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label>Lozinka</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Prijavi se</button>
            </form>
            <p class="modal-footer">
                Nemate nalog? <a href="#" id="switchToRegister">Registrujte se</a>
            </p>
        </div>
    </div>

    <!-- Modal za Registraciju -->
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <span class="modal-close" data-modal="registerModal">&times;</span>
            <h2>Registracija</h2>
            <form id="registerForm">
                <div class="form-group">
                    <label>Ime i Prezime</label>
                    <input type="text" id="registerName" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="registerEmail" required>
                </div>
                <div class="form-group">
                    <label>Lozinka</label>
                    <input type="password" id="registerPassword" required minlength="6">
                </div>
                <div class="form-group">
                    <label>Tip Korisnika</label>
                    <select id="registerUserType" required>
                        <option value="client">Klijent</option>
                        <option value="provider">Pružalac Usluga</option>
                    </select>
                </div>
                <div id="providerFields" style="display:none;">
                    <div class="form-group">
                        <label>Kategorija Usluge</label>
                        <select id="registerCategory">
                            <option>Popravke</option>
                            <option>Dom i Bašta</option>
                            <option>Lepota i Wellness</option>
                            <option>IT i Tehnologija</option>
                            <option>Edukacija</option>
                            <option>Transport</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Lokacija</label>
                        <input type="text" id="registerLocation" placeholder="npr. Beograd, Novi Sad...">
                    </div>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Registruj se</button>
            </form>
            <p class="modal-footer">
                Već imate nalog? <a href="#" id="switchToLogin">Prijavite se</a>
            </p>
        </div>
    </div>

    <script src="app.js"></script>
    <script src="services.js"></script>
</body>
</html>

